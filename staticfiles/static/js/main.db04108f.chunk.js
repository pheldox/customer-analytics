(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),o=n(26),s=n(27),i=n(54),l=n(55),j="PREDICTION_REQUEST",u="PREDICTION_SUCCESS",b="PREDICTION_FAIL",d="PREDICTION_RESET",h=Object(s.combineReducers)({predictionCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case u:return{loading:!1,success:!0,prediction:t.payload};case b:return{loading:!1,error:t.payload};case d:return{};default:return e}}}),p={predictionCreate:{predictedValue:localStorage.getItem("predictedValue")?JSON.parse(localStorage.getItem("predictedValue")):null}},O=[i.a],v=Object(s.createStore)(h,p,Object(l.composeWithDevTools)(s.applyMiddleware.apply(void 0,O))),x=(n(68),n(69),n(96)),g=n(24),m=n(6),f=n(101),_=n(102),C=n(42),y=n(3),I=function(){return Object(y.jsx)(f.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(y.jsxs)(x.a,{children:[Object(y.jsx)(C.LinkContainer,{to:"/",children:Object(y.jsx)(f.a.Brand,{children:"Phellytics"})}),Object(y.jsx)(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(f.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsx)(_.a,{className:"me-auto",children:Object(y.jsx)(C.LinkContainer,{to:"/predictions",children:Object(y.jsxs)(_.a.Link,{children:[Object(y.jsx)("i",{className:"fas fa-chart-line"}),"Analytics"]})})})})]})})},S=n(97),k=n(59),L=function(){return Object(y.jsx)("footer",{children:Object(y.jsx)(x.a,{children:Object(y.jsx)(S.a,{children:Object(y.jsx)(k.a,{className:"text-center py-3",children:" \xa9 Phellytics "})})})})},w=n(12),N=n(41),P=n.n(N),T=n(44),E=n.n(T),R=n(60),G=n(104),D=n(100),q=n(99),V=n(103);var B=function(e){var t=e.variant,n=e.children;return Object(y.jsx)(V.a,{variant:t,children:n})},F=n(98);var A=function(){return Object(y.jsx)(F.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(y.jsx)("span",{className:"sr-only",children:"Loading..."})})};var J=function(e){var t=e.children;return Object(y.jsx)(x.a,{children:Object(y.jsx)(S.a,{className:"justify-content-md-center",children:Object(y.jsx)(k.a,{xs:12,md:6,children:t})})})},M=function(){var e=Object(o.c)((function(e){return e.predictionCreate})),t=e.loading,n=e.error,r=e.success,c=e.prediction;console.log(n);var s=Object(o.b)(),i=Object(a.useState)(""),l=Object(w.a)(i,2),d=l[0],h=l[1],p=Object(a.useState)(""),O=Object(w.a)(p,2),v=O[0],x=O[1],g=Object(a.useState)(""),m=Object(w.a)(g,2),f=m[0],_=m[1],C=Object(a.useState)(""),I=Object(w.a)(C,2),S=I[0],k=I[1],L=Object(a.useState)(""),N=Object(w.a)(L,2),T=N[0],V=N[1],F=Object(a.useState)(""),M=Object(w.a)(F,2),U=M[0],W=M[1],H=Object(a.useState)(""),Q=Object(w.a)(H,2),Y=Q[0],z=Q[1],K=Object(a.useState)(""),X=Object(w.a)(K,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(w.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ce=Object(w.a)(re,2),oe=ce[0],se=ce[1];Object(a.useEffect)((function(){r&&(h(""),x(""),_(""),k(""),V(""),W(""),z(""),$(""),ae(""),se(""))}),[s,r]);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Predict Customer Conversion"}),Object(y.jsx)(J,{children:Object(y.jsx)(G.a,{variant:"flush",children:Object(y.jsxs)(G.a.Item,{children:[Object(y.jsx)("h4",{children:"Will customer convert?"}),Object(y.jsxs)(D.a,{onSubmit:function(e){e.preventDefault(),s(function(e){var t=e.book_length_tot,n=e.book_length_avg,a=e.price_tot,r=e.price_avg,c=e.review,o=e.min_listened,s=e.completion,i=e.support_requests,l=e.last_visited,d=e.purchase_data;return function(){var e=Object(R.a)(E.a.mark((function e(h){var p,O;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h({type:j}),console.log({book_length_tot:t,book_length_avg:n,price_tot:a,price_avg:r,review:c,min_listened:o,completion:s,support_requests:i,last_visited:l,purchase_data:d}),e.next=6,P.a.post("/api/predict/",{book_length_tot:t,book_length_avg:n,price_tot:a,price_avg:r,review:c,min_listened:o,completion:s,support_requests:i,last_visited:l,purchase_data:d});case 6:p=e.sent,O=p.data,h({type:u,payload:O}),localStorage.setItem("predictedValue",JSON.stringify(O.target)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),h({type:b,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}({book_length_tot:d,book_length_avg:v,price_tot:f,price_avg:S,review:T,min_listened:U,completion:Y,support_requests:Z,last_visited:ne,purchase_data:oe}))},children:[Object(y.jsxs)(D.a.Group,{controlId:"total-booklength",children:[Object(y.jsx)(D.a.Label,{children:"Total Book Length"}),Object(y.jsx)(D.a.Control,{type:"number",value:d||"",onChange:function(e){return h(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"avg-booklength",children:[Object(y.jsx)(D.a.Label,{children:"Book Length Average"}),Object(y.jsx)(D.a.Control,{type:"number",value:v||"",onChange:function(e){return x(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"price",children:[Object(y.jsx)(D.a.Label,{children:"Total Price"}),Object(y.jsx)(D.a.Control,{type:"number",value:f||"",onChange:function(e){return _(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"averagePrice",children:[Object(y.jsx)(D.a.Label,{children:"Average Price"}),Object(y.jsx)(D.a.Control,{type:"number",value:S||"",onChange:function(e){return k(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"review",children:[Object(y.jsx)(D.a.Label,{children:"Review"}),Object(y.jsx)(D.a.Control,{type:"number",value:T||"",onChange:function(e){return V(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"minListened",children:[Object(y.jsx)(D.a.Label,{children:"Minutes Listened"}),Object(y.jsx)(D.a.Control,{type:"number",value:U||"",onChange:function(e){return W(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"completion",children:[Object(y.jsx)(D.a.Label,{children:"Completion"}),Object(y.jsx)(D.a.Control,{type:"number",value:Y||"",onChange:function(e){return z(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"suppportRequests",children:[Object(y.jsx)(D.a.Label,{children:"Support Requests"}),Object(y.jsx)(D.a.Control,{type:"number",value:Z||"",onChange:function(e){return $(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"lastVisited",children:[Object(y.jsx)(D.a.Label,{children:"Last Visited"}),Object(y.jsx)(D.a.Control,{type:"number",value:ne||"",onChange:function(e){return ae(e.target.value)}})]}),Object(y.jsxs)(D.a.Group,{controlId:"purchasedate",children:[Object(y.jsx)(D.a.Label,{children:"Purchase Date"}),Object(y.jsx)(D.a.Control,{type:"number",value:oe||"",onChange:function(e){return se(e.target.value)}})]}),t&&Object(y.jsx)(A,{}),n&&Object(y.jsx)(B,{variant:"danger",children:n}),c&&(c.target?Object(y.jsx)("div",{children:Object(y.jsx)(B,{variant:"success",children:"Yes, Customer will convert."})}):Object(y.jsx)("div",{children:Object(y.jsx)(B,{variant:"danger",children:"No"})})),Object(y.jsx)(q.a,{disabled:t,type:"submit",variant:"primary",children:"Submit"})]})]})})})]})};var U=function(){return Object(y.jsxs)(g.HashRouter,{children:[Object(y.jsx)(I,{}),Object(y.jsx)("main",{className:"py-3",children:Object(y.jsx)(x.a,{children:Object(y.jsx)(m.d,{path:"/",component:M,exact:!0})})}),Object(y.jsx)(L,{})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};c.a.render(Object(y.jsx)(o.a,{store:v,children:Object(y.jsx)(U,{})}),document.getElementById("root")),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.db04108f.chunk.js.map