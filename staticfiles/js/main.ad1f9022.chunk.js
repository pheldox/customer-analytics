(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),s=n(26),i=n(27),o=n(54),l=n(55),j="PREDICTION_REQUEST",u="PREDICTION_SUCCESS",b="PREDICTION_FAIL",d="PREDICTION_RESET",h=Object(i.combineReducers)({predictionCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0};case u:return{loading:!1,success:!0,prediction:t.payload};case b:return{loading:!1,error:t.payload};case d:return{};default:return e}}}),O={predictionCreate:{predictedValue:localStorage.getItem("predictedValue")?JSON.parse(localStorage.getItem("predictedValue")):null}},p=[o.a],x=Object(i.createStore)(h,O,Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,p))),v=(n(68),n(69),n(96)),g=n(24),m=n(6),f=n(101),C=n(102),y=n(42),L=n(3),I=function(){return Object(L.jsx)(f.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(L.jsxs)(v.a,{children:[Object(L.jsx)(y.LinkContainer,{to:"/",children:Object(L.jsx)(f.a.Brand,{children:"Phellytics"})}),Object(L.jsx)(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(L.jsx)(f.a.Collapse,{id:"basic-navbar-nav",children:Object(L.jsx)(C.a,{className:"me-auto",children:Object(L.jsx)(y.LinkContainer,{to:"/predictions",children:Object(L.jsxs)(C.a.Link,{children:[Object(L.jsx)("i",{className:"fas fa-chart-line"}),"Analytics"]})})})})]})})},S=n(97),k=n(59),_=function(){return Object(L.jsx)("footer",{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(S.a,{children:Object(L.jsx)(k.a,{className:"text-center py-3",children:" \xa9 Phellytics "})})})})},w=n(12),N=n(41),P=n.n(N),R=n(44),T=n.n(R),E=n(60),D=n(104),G=n(100),A=n(99),V=n(103);var q=function(e){var t=e.variant,n=e.children;return Object(L.jsx)(V.a,{variant:t,children:n})},B=n(98);var F=function(){return Object(L.jsx)(B.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(L.jsx)("span",{className:"sr-only",children:"Loading..."})})};var J=function(e){var t=e.children;return Object(L.jsx)(v.a,{children:Object(L.jsx)(S.a,{className:"justify-content-md-center",children:Object(L.jsx)(k.a,{xs:12,md:6,children:t})})})},U=function(){var e=Object(s.c)((function(e){return e.predictionCreate})),t=e.loading,n=e.error,r=e.success,c=e.prediction;console.log(n);var i=Object(s.b)(),o=Object(a.useState)(""),l=Object(w.a)(o,2),d=l[0],h=l[1],O=Object(a.useState)(""),p=Object(w.a)(O,2),x=p[0],v=p[1],g=Object(a.useState)(""),m=Object(w.a)(g,2),f=m[0],C=m[1],y=Object(a.useState)(""),I=Object(w.a)(y,2),S=I[0],k=I[1],_=Object(a.useState)(""),N=Object(w.a)(_,2),R=N[0],V=N[1],B=Object(a.useState)(""),U=Object(w.a)(B,2),M=U[0],W=U[1],H=Object(a.useState)(""),Q=Object(w.a)(H,2),Y=Q[0],z=Q[1],K=Object(a.useState)(""),X=Object(w.a)(K,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(w.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ce=Object(w.a)(re,2),se=ce[0],ie=ce[1];Object(a.useEffect)((function(){r&&(h(""),v(""),C(""),k(""),V(""),W(""),z(""),$(""),ae(""),ie(""))}),[i,r]);return Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Predict Customer Conversion (Updated)"}),Object(L.jsx)(J,{children:Object(L.jsx)(D.a,{variant:"flush",children:Object(L.jsxs)(D.a.Item,{children:[Object(L.jsx)("h4",{children:"Will customer convert?"}),Object(L.jsxs)(G.a,{onSubmit:function(e){e.preventDefault(),i(function(e){var t=e.bookLength,n=e.bookLengthAvg,a=e.price,r=e.priceAvg,c=e.review,s=e.minListened,i=e.completion,o=e.supportRequests,l=e.lastVisited,d=e.purchaseDate;return function(){var e=Object(E.a)(T.a.mark((function e(h){var O,p;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h({type:j}),e.next=5,P.a.post("/api/predict/",{book_length_tot:t,book_length_avg:n,price_tot:a,price_avg:r,review:c,min_listened:s,completion:i,support_requests:o,last_visited:l,purchase_data:d});case 5:O=e.sent,p=O.data,h({type:u,payload:p}),localStorage.setItem("predictedValue",JSON.stringify(p.target)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h({type:b,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}({bookLength:d,bookLengthAvg:x,price:f,priceAvg:S,review:R,minListened:M,completion:Y,supportRequests:Z,lastVisited:ne,purchaseDate:se}))},children:[Object(L.jsxs)(G.a.Group,{controlId:"total-booklength",children:[Object(L.jsx)(G.a.Label,{children:"Total Book Length"}),Object(L.jsx)(G.a.Control,{type:"number",value:d||"",onChange:function(e){return h(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"avg-booklength",children:[Object(L.jsx)(G.a.Label,{children:"Book Length Average"}),Object(L.jsx)(G.a.Control,{type:"number",value:x||"",onChange:function(e){return v(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"price",children:[Object(L.jsx)(G.a.Label,{children:"Total Price"}),Object(L.jsx)(G.a.Control,{type:"number",value:f||"",onChange:function(e){return C(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"averagePrice",children:[Object(L.jsx)(G.a.Label,{children:"Average Price"}),Object(L.jsx)(G.a.Control,{type:"number",value:S||"",onChange:function(e){return k(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"review",children:[Object(L.jsx)(G.a.Label,{children:"Review"}),Object(L.jsx)(G.a.Control,{type:"number",value:R||"",onChange:function(e){return V(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"minListened",children:[Object(L.jsx)(G.a.Label,{children:"Minutes Listened"}),Object(L.jsx)(G.a.Control,{type:"number",value:M||"",onChange:function(e){return W(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"completion",children:[Object(L.jsx)(G.a.Label,{children:"Completion"}),Object(L.jsx)(G.a.Control,{type:"number",value:Y||"",onChange:function(e){return z(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"suppportRequests",children:[Object(L.jsx)(G.a.Label,{children:"Support Requests"}),Object(L.jsx)(G.a.Control,{type:"number",value:Z||"",onChange:function(e){return $(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"lastVisited",children:[Object(L.jsx)(G.a.Label,{children:"Last Visited"}),Object(L.jsx)(G.a.Control,{type:"number",value:ne||"",onChange:function(e){return ae(e.target.value)}})]}),Object(L.jsxs)(G.a.Group,{controlId:"purchasedate",children:[Object(L.jsx)(G.a.Label,{children:"Purchase Date"}),Object(L.jsx)(G.a.Control,{type:"number",value:se||"",onChange:function(e){return ie(e.target.value)}})]}),t&&Object(L.jsx)(F,{}),n&&Object(L.jsx)(q,{variant:"danger",children:n}),c&&(c.target?Object(L.jsx)("div",{children:Object(L.jsx)(q,{variant:"success",children:"Yes, Customer will convert."})}):Object(L.jsx)("div",{children:Object(L.jsx)(q,{variant:"danger",children:"No"})})),Object(L.jsx)(A.a,{disabled:t,type:"submit",variant:"primary",children:"Submit"})]})]})})})]})};var M=function(){return Object(L.jsxs)(g.HashRouter,{children:[Object(L.jsx)(I,{}),Object(L.jsx)("main",{className:"py-3",children:Object(L.jsx)(v.a,{children:Object(L.jsx)(m.d,{path:"/",component:U,exact:!0})})}),Object(L.jsx)(_,{})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};c.a.render(Object(L.jsx)(s.a,{store:x,children:Object(L.jsx)(M,{})}),document.getElementById("root")),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.ad1f9022.chunk.js.map